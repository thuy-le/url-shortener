import {MakeUrlGateway, UrlGateway} from "gateway/url/UrlGateway";
import {Url, EncodeId, DecodeId} from "domain/url/Url";


export function MakeUrlQuerySystem(gateway?: UrlGateway) {
    return new UrlQuerySystem(gateway || MakeUrlGateway());
}

class UrlQuerySystem {
    private gateway: UrlGateway;

    constructor(gateway: UrlGateway) {
        this.gateway = gateway;
    }

    public getList(): Url[] {
        return this.gateway.findAll();
    }

    public getUrl(idCode: string): Url {
        const id = DecodeId(idCode);
        return this.gateway.findById(id);
    }

}
